<section>
	<header class="hero-id">
		<div class="image">
			<img src="{{actor.img}}" data-edit="img">
		</div>
		<div>
			<fieldset class="name">
				<label>{{localize "Name"}}</label>
				<input type="text" name="name" value="{{actor.name}}">
			</fieldset>
			<fieldset class="class">
				<label>{{localize "EH.Item.Types.Class[one]"}}</label>
				<a data-action="item" data-type="edit" data-id="{{system.details.class.id}}">
					{{system.details.class.name}}
				</a>
			</fieldset>
			<fieldset class="archetype">
				<label>{{localize "EH.Item.Types.Archetype[one]"}}</label>
				<a data-action="item" data-type="edit" data-id="{{system.details.archetype.id}}">
					{{system.details.archetype.name}}
				</a>
			</fieldset>
			<fieldset class="background">
				<label>{{localize "EH.Item.Types.Background[one]"}}</label>
				<a data-action="item" data-type="edit" data-id="{{system.details.background.id}}">
					{{system.details.background.name}}
				</a>
			</fieldset>
			<fieldset class="profession">
				<label>{{localize "EH.Item.Types.Profession[one]"}}</label>
				<a data-action="item" data-type="edit" data-id="{{system.details.profession.id}}">
					{{system.details.profession.name}}
				</a>
			</fieldset>
			<fieldset class="level">
				<label>Level</label>{{!-- TODO: Localize --}}
				<input type="number" name="system.details.level" value="{{system.details.level}}"
						 	step="1" min="1" max="10">
			</fieldset>
			<fieldset class="wealth">
				<label>Wealth</label>{{!-- TODO: Localize --}}
				<span>{{actor.details.wealth}}</span>
			</fieldset>
			<fieldset class="speed">
				<label>Speed</label>
				<input type="number" name="system.attributes.movement.value"
					value="{{system.attributes.movement.value}}" step="0.1" min="0">
			</fieldset>
			<fieldset class="languages">
				<label>Languages</label>{{!-- TODO: Localize --}}
				<span>{{actor.traits.languages.summary}}</span>
			</fieldset>
		</div>
	</header>
	
	<section class="abilities-and-skills">
		<div class="abilities">
			{{#each abilities as |ability key|}}
				<div class="ability" data-key="{{key}}">
					<div class="angle"></div>
					<label>
						<a data-action="roll" data-type="ability" data-key="{{key}}">{{ability.label}}</a>
					</label>
					<aside class="modifier">
						<a data-action="roll" data-type="ability-check" data-key="{{key}}">{{ability.mod}}</a>
					</aside>
					<div class="contents">
						<input class="value" type="number" name="system.abilities.{{key}}.value"
							value="{{ability.value}}" step="1" min="1">
						<div class="save">
							{{> "everydayHeroes.actor-proficiency-selector" type="single"
							  name=(concat "system.abilities." key ".saveProficiency") value=ability.saveProficiency}}
							<a data-action="roll" data-type="ability-save" data-key="{{key}}">{{ability.save}}</a>
						</div>
					</div>
				</div>
			{{/each}}
		</div>
		<div class="skills">
			{{#each skills as |skill key|}}
				<div class="skill" data-key="{{key}}">
					<label>
						<a data-action="roll" data-type="skill" data-key="{{key}}">{{skill.label}}</a>
					</label>
					<span class="abbreviation">{{skill.abilityAbbreviation}}</span>
					{{> "everydayHeroes.actor-proficiency-selector" type="double"
						name=(concat "system.skills." key ".proficiency") value=skill.proficiency}}
					<span class="modifier">{{skill.mod}}</span>
				</div>
			{{/each}}
		</div>
	</section>
	
	<section class="attributes">
		<div class="health">
			<div class="hp">
				<fieldset class="max-hp">
					<label>Max HP</label>{{!-- TODO: Localize --}}
					<span>{{system.attributes.hp.max}}</span>
				</fieldset>
				<fieldset class="current-hp">
					<label>Current HP</label>{{!-- TODO: Localize --}}
					<input type="number" name="system.attributes.hp.value" value="{{system.attributes.hp.value}}"
						step="1" min="0" max="{{system.attributes.hp.max}}">
				</fieldset>
				<fieldset class="temp-hp">
					<label>Temp HP</label>{{!-- TODO: Localize --}}
					<input type="number" name="system.attributes.hp.temp" value="{{system.attributes.hp.temp}}"
						step="1" min="0">
				</fieldset>
				<fieldset class="hit-dice">
					<label>
						<a data-action="roll" data-type="hit-die">{{localize "EH.HitDice.Label[other]"}}</a>
					</label>
					<span>
						{{#if system.attributes.hd.denomination}}
							{{system.attributes.hd.available}}{{system.attributes.hd.denomination}}
						{{/if}}
					</span>
				</fieldset>
				<fieldset class="total-dmg">
					{{#unless (eq system.attributes.hp.value 0)}}
						<label>Total DMG</label>{{!-- TODO: Localize --}}
						<span>{{system.attributes.hp.damage}}</span>
					{{else}}
						<label>Status</label>{{!-- TODO: Localize --}}
						<span>{{system.attributes.death.status}}</span>
					{{/unless}}
				</fieldset>
			</div>
			{{#if (eq system.attributes.hp.value 0)}}
				<div class="death-saves">
					<label>
						<a data-action="roll" data-type="death-save">{{localize "EH.Death.Label[other]"}}</a>
					</label>
					<fieldset class="success">
						<label>{{localize "EH.Death.Success"}}</label>
						<span>{{system.attributes.death.success}}</span>
					</fieldset>
					<fieldset class="failure">
						<label>{{localize "EH.Death.Failure"}}</label>
						<span>{{system.attributes.death.failure}}</span>
					</fieldset>
				</div>
			{{/if}}
		</div>
		<div class="summary">
			<fieldset class="proficiency">
				<label>Proficiency Bonus</label>{{!-- TODO: Localize --}}
				<span>{{system.attributes.prof}}</span>
			</fieldset>
			<fieldset class="defense">
				<label>Defense</label>{{!-- TODO: Localize --}}
				<span>{{system.attributes.defense.value}}</span>
			</fieldset>
			<fieldset class="initiative">
				<label><a data-action="roll" data-type="initiative">Initiative</a></label>
				<span>{{system.attributes.initiative.value}}</span>
			</fieldset>
			<fieldset class="passive-perception">
				<label>Passive Perception</label>
				<span>{{system.skills.perc.passive}}</span>
			</fieldset>
		</div>
		<div class="resources">
			Genius/Focus/Influence
			Inspiration
		</div>
	</section>
</section>
